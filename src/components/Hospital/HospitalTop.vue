<template>
  <el-dropdown trigger="click">
    <el-avatar :size="40" :src="url"
      ><i class="iconfont" style="cursor: context-menu;">&#xe647;</i></el-avatar
    >
    <el-dropdown-menu slot="dropdown">
      <el-dropdown-item @click.native="goHospitalCenter()">
        <i class="top-icon">
          <svg
            t="1600150765588"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="5024"
            width="18"
            height="18"
          >
            <path
              d="M512.009721 25.037233c-268.970918 0-486.999606 218.008222-486.999606 486.981187 0 268.938172 218.028689 486.944348 486.999606 486.944348 268.929985 0 486.97914-218.007199 486.97914-486.944348C998.988862 243.045455 780.939707 25.037233 512.009721 25.037233M512.009721 938.089351c-235.344053 0-426.125167-190.740182-426.125167-426.070932 0-235.365542 190.782138-426.107771 426.125167-426.107771 235.325633 0 426.105724 190.742229 426.105724 426.107771C938.115446 747.348146 747.335355 938.089351 512.009721 938.089351"
              p-id="5025"
              fill="#707070"
            ></path>
            <path
              d="M490.768955 479.57859c7.767917 0 14.089903-8.402367 14.089903-18.783809s-6.320962-18.783809-14.089903-18.783809c-7.786337 0-14.108323 8.402367-14.108323 18.783809S482.982618 479.57859 490.768955 479.57859z"
              p-id="5026"
              fill="#707070"
            ></path>
            <path
              d="M470.59652 491.349681c0-10.382465-6.300496-18.783809-14.069437-18.783809-7.807826 0-14.108323 8.401344-14.108323 18.783809 0 10.422374 6.300496 18.824741 14.108323 18.824741l0 0C464.296023 510.174422 470.59652 501.772055 470.59652 491.349681z"
              p-id="5027"
              fill="#707070"
            ></path>
            <path
              d="M538.858206 479.57859c7.786337 0 14.087856-8.402367 14.087856-18.783809s-6.300496-18.783809-14.087856-18.783809c-7.789407 0-14.08888 8.402367-14.08888 18.783809S531.068799 479.57859 538.858206 479.57859z"
              p-id="5028"
              fill="#707070"
            ></path>
            <path
              d="M570.384223 472.565872c-7.768941 0-14.087856 8.401344-14.087856 18.783809 0 10.382465 6.318916 18.824741 14.087856 18.824741 7.78736 0 14.108323-8.442276 14.108323-18.824741C584.492546 480.967216 578.171584 472.565872 570.384223 472.565872z"
              p-id="5029"
              fill="#707070"
            ></path>
            <path
              d="M585.562924 438.442704l0-217.769792L438.455495 220.672912l0 217.769792L210.836381 438.442704l0 147.111522 227.619114 0 0 217.772862 147.107429 0L585.562924 585.554226l227.599671 0L813.162596 438.442704 585.562924 438.442704zM581.915861 539.861558c0 0-4.157693 52.074006-69.767993 56.867172 0 0-55.697533 3.885494-73.215512-58.928111 0 0-14.662955-19.421328-11.789511-43.478234 0 0-0.059352-39.352263 32.794917-40.303938 0 0 4.616134-27.067472 30.516014-26.751271 0 0 12.127202-0.317225 21.695115 12.402471 0 0 3.865028 4.480035 6.719028-0.317225 0 0 25.165146-36.299741 52.867068 16.884552 0 0 23.261797 3.844561 25.481348 41.413202C597.215312 497.6512 596.264661 519.648191 581.915861 539.861558z"
              p-id="5030"
              fill="#707070"
            ></path>
            <path
              d="M527.898597 500.780471c-10.440793-4.001127-20.049638-3.208065-27.776623-0.792039-6.123464 1.267876-12.56313 4.797259-18.389836 10.108219l-0.019443 0-0.021489 0.037862 0 0-0.037862 0.039909c-3.885494 3.568269-7.490601 7.927553-10.543124 13.003152-11.69025 19.22076-10.997472 40.975227 1.52575 48.585555 6.241145 3.804652 14.268982 3.328815 22.174022-0.475837 1.864464-0.870834 3.725858-1.980097 5.548366-3.210112 9.906627-4.399193 19.534915-1.822508 25.319665 0.713244 9.274224 5.985318 19.222807 7.490601 26.632567 2.971681 12.523221-7.610328 13.237489-29.363771 1.566682-48.585555C546.961768 511.759523 537.274128 503.793084 527.898597 500.780471z"
              p-id="5031"
              fill="#707070"
            ></path>
          </svg>
        </i>
        <span>医院中心</span>
      </el-dropdown-item>
      <el-dropdown-item @click.native="goHospitalService()">
        <i class=" top-icon">
          <svg
            t="1600150626855"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="4481"
            width="18"
            height="18"
          >
            <path
              d="M599.034239 64.97585l-478.927767 0c-31.128975 0-56.340169 25.900903-56.340169 57.836243l0 778.376837c0 31.93534 25.243941 57.83522 56.340169 57.83522l478.960513 0c31.127951 0 56.340169-25.89988 56.340169-57.83522L655.407154 122.812093C655.407154 90.876754 630.163213 64.97585 599.034239 64.97585L599.034239 64.97585zM328.084247 830.840722c0 9.586332-7.766894 17.353227-17.353227 17.353227L195.417715 848.193949c-9.589402 0-17.358343-7.766894-17.358343-17.353227L178.059372 715.52844c0-9.589402 7.767917-17.358343 17.358343-17.358343l115.312282 0c9.586332 0 17.353227 7.767917 17.353227 17.358343L328.083224 830.840722 328.084247 830.840722zM328.084247 619.36631c0 9.586332-7.766894 17.353227-17.353227 17.353227L195.417715 636.719536c-9.589402 0-17.358343-7.766894-17.358343-17.353227L178.059372 504.055051c0-9.591449 7.767917-17.358343 17.358343-17.358343l115.312282 0c9.586332 0 17.353227 7.766894 17.353227 17.358343L328.083224 619.36631 328.084247 619.36631zM356.554672 387.011334c-15.895015 0-28.798906-11.82942-28.798906-26.438139l0-57.508785-57.508785 0c-14.604626 0-26.433022-12.903891-26.433022-28.79379 0-15.895015 11.82942-28.79993 26.433022-28.79993l57.508785 0L327.755766 187.963952c0-14.609743 12.903891-26.439162 28.798906-26.439162 15.889899 0 28.79993 11.82942 28.79993 26.439162l0 57.507762 57.502645 0c14.609743 0 26.439162 12.904914 26.439162 28.79993 0 15.889899-11.82942 28.79379-26.439162 28.79379l-57.502645 0 0 57.508785C385.354602 375.181915 372.444571 387.011334 356.554672 387.011334L356.554672 387.011334zM534.118763 830.840722c0 9.586332-7.766894 17.353227-17.353227 17.353227L401.454278 848.193949c-9.591449 0-17.358343-7.766894-17.358343-17.353227L384.095935 715.52844c0-9.589402 7.766894-17.358343 17.358343-17.358343l115.311259 0c9.586332 0 17.353227 7.767917 17.353227 17.358343L534.118763 830.840722 534.118763 830.840722zM534.118763 619.36631c0 9.586332-7.766894 17.353227-17.353227 17.353227L401.454278 636.719536c-9.591449 0-17.358343-7.766894-17.358343-17.353227L384.095935 504.055051c0-9.591449 7.766894-17.358343 17.358343-17.358343l115.311259 0c9.586332 0 17.353227 7.766894 17.353227 17.358343L534.118763 619.36631 534.118763 619.36631zM534.118763 619.36631"
              p-id="4482"
              fill="#707070"
            ></path>
            <path
              d="M901.441687 512 742.516094 512c-1.01205 0-1.968841 0.236384-2.984984 0.300852l-55.803957 0L683.727153 958.728414l55.803957 0c1.016143 0.058328 1.972934 0.295735 2.984984 0.295735l158.926616 0c32.473599 0 58.792011-25.89988 58.792011-57.83522L960.234721 569.836243C960.267467 537.900903 933.947008 512 901.441687 512L901.441687 512zM901.441687 512"
              p-id="4483"
              fill="#707070"
            ></path></svg
        ></i>
        <span>医院服务</span>
      </el-dropdown-item>
      <el-dropdown-item @click.native="hospitalLogout()">
        <i class="top-icon"
          ><svg
            t="1600150850532"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="5216"
            width="18"
            height="18"
          >
            <path
              d="M828.81 195.23a450.31 450.31 0 0 0-75.53-60.75 32 32 0 1 0-34.5 53.87A384.65 384.65 0 0 1 896 512c0 211.75-172.25 384-384 384S128 723.76 128 512a384.43 384.43 0 0 1 177.22-323.62 32 32 0 1 0-34.5-53.93 450.53 450.53 0 0 0-75.5 60.78C110.59 279.85 64 392.35 64 512c0 247 201 448 448 448s448-201 448-448c0-119.65-46.59-232.15-131.19-316.77z"
              fill="#707070"
              p-id="5217"
            ></path>
            <path
              d="M512 544a32 32 0 0 0 32-32V96a32 32 0 0 0-64 0v416a32 32 0 0 0 32 32z"
              fill="#707070"
              p-id="5218"
            ></path></svg
        ></i>
        <span>退出</span>
      </el-dropdown-item>
    </el-dropdown-menu>
  </el-dropdown>
</template>

<script>
export default {
  computed: {
    hosptialInfo() {
      return this.$store.state.userInfo.hospitalInfo
    }
  },
  data() {
    return {
      url: ''
    }
  },
  created() {},
  mounted() {
    console.log(this.hosptialInfo)
    if (this.hosptialInfo.head_hz) {
      this.url = this.hosptialInfo.head_hz
    }
  },
  methods: {
    hospitalLogout() {
      const userInfo = this.$store.state.userInfo
      userInfo.userState = false
      localStorage.setItem('userState', false)
      userInfo.role = ''
      localStorage.setItem('role', '')
      userInfo.userToken = ''
      localStorage.setItem('userToken', '')
      this.$router.go(0)
    },
    goHospitalService() {
      this.$router.push('/hospital-center/hospital-services')
    },
    goHospitalCenter() {
      this.$router.push('/hospital-center/profile')
    }
  }
}
</script>

<style scoped>
.top-icon {
  font-size: 17px;
  margin: 10px;
}
</style>
<style>
.el-dropdown-menu__item {
  padding: 10px 20px;
  width: 200px;
  display: flex;
  align-items: center;
}
</style>
